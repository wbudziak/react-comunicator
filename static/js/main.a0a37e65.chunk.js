(this.webpackJsonpcomunicator=this.webpackJsonpcomunicator||[]).push([[0],[,,,,function(e,t,n){e.exports={inputsSection:"InputsSection_inputsSection__1KNYW",form:"InputsSection_form__3E-Kd",text:"InputsSection_text__79YoH",button:"InputsSection_button__2gnWV"}},function(e,t,n){e.exports={userMessageContainer:"UserMessage_userMessageContainer__2eQzP",user:"UserMessage_user__2xMAV",userMessage:"UserMessage_userMessage__25iVC"}},,,function(e,t,n){},,function(e,t,n){e.exports={wrapper:"Wrapper_wrapper__edDBr"}},function(e,t,n){e.exports={chatWindow:"ChatWindow_chatWindow__hJQbP"}},,,,,function(e,t,n){},,,function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(9),c=n.n(r),u=(n(16),n(2)),o=n(3),i=n.n(o),j=n(7),b=n(10),p=n.n(b),l=n(0);var f=function(e){return Object(l.jsx)(s.a.Fragment,{children:Object(l.jsx)("div",{className:p.a.wrapper,children:e.children})})},h=n(11),d=n.n(h),O=n(5),m=n.n(O);var x=function(e){var t=Object(l.jsx)("p",{className:m.a.user,children:"".concat(e.user," :")}),n=Object(l.jsx)("p",{className:m.a.userMessage,children:e.userMessage});return Object(l.jsxs)("div",{className:m.a.userMessageContainer,children:[e.theSamePerson?t:"",n]})};var g=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),s=n[0],r=(n[1],e.chatData.map((function(e){return Object(l.jsx)(x,{user:e.user,userMessage:e.userMessage,theSamePerson:s})})));return Object(l.jsx)("div",{className:d.a.chatWindow,children:e.isLoading?r:Object(l.jsx)("p",{children:"Loading..."})})},v=n(4),_=n.n(v);var S=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),s=n[0],r=n[1],c=Object(a.useRef)("");return Object(l.jsx)("div",{className:_.a.inputsSection,children:Object(l.jsxs)("form",{className:_.a.form,onSubmit:function(t){if(t.preventDefault(),""!==c.current.value){r("");var n={user:e.username,userMessage:c.current.value};e.chatData(n)}},children:[Object(l.jsx)("input",{className:_.a.text,type:"text",id:"message",ref:c,value:s,onChange:function(e){return r(e.target.value)}}),Object(l.jsx)("button",{className:_.a.button,children:Object(l.jsx)("i",{class:"far fa-paper-plane"})})]})})};var w=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),s=n[0],r=n[1],c=Object(a.useState)(!1),o=Object(u.a)(c,2),b=o[0],p=o[1],h=Object(a.useState)(null),d=Object(u.a)(h,2),O=(d[0],d[1]),m=Object(a.useState)(e.username),x=Object(u.a)(m,2),v=x[0],_=(x[1],Object(a.useCallback)(Object(j.a)(i.a.mark((function e(){var t,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),O(null),e.prev=2,e.next=5,fetch("https://comunicator-74c17-default-rtdb.europe-west1.firebasedatabase.app/chatData.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong!");case 8:return e.next=10,t.json();case 10:for(s in n=e.sent,a=[],n)a.push({id:s,user:n[s].user,userMessage:n[s].userMessage});r(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),O(e.t0.message);case 19:p(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))));function w(){return(w=Object(j.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comunicator-74c17-default-rtdb.europe-west1.firebasedatabase.app/chatData.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,console.log(a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){_()}),[_]),Object(l.jsxs)(f,{children:[Object(l.jsx)(g,{chatData:s,isLoading:b}),Object(l.jsx)(S,{chatData:function(e){return w.apply(this,arguments)},username:v})]})},M=n(8),N=n.n(M);var C=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),s=n[0],r=n[1];return Object(l.jsx)("div",{children:Object(l.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==s&&(s.length<=3?alert("more than 3 chars"):s.length>=15||(e.username(s),r("")))},children:[Object(l.jsx)("input",{className:N.a.form,type:"text",value:s,onChange:function(e){return r(e.target.value)}}),Object(l.jsx)("button",{className:N.a.btn,children:"set name"})]})})};var D=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(l.jsx)(s.a.Fragment,{children:""===n?Object(l.jsx)(C,{username:function(e){r(e)}}):Object(l.jsx)(w,{username:n})})},k=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(D,{})}),document.getElementById("root")),k()}],[[19,1,2]]]);
//# sourceMappingURL=main.a0a37e65.chunk.js.map