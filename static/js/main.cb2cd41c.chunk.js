(this.webpackJsonpcomunicator=this.webpackJsonpcomunicator||[]).push([[0],[,,,,function(e,t,a){e.exports={userMessageContainerLeft:"UserMessage_userMessageContainerLeft__12Ox8",userMessageContainerRight:"UserMessage_userMessageContainerRight__kne7y",user:"UserMessage_user__2xMAV",userMessage:"UserMessage_userMessage__25iVC"}},function(e,t,a){e.exports={inputsSection:"InputsSection_inputsSection__1KNYW",form:"InputsSection_form__3E-Kd",text:"InputsSection_text__79YoH",button:"InputsSection_button__2gnWV"}},,,function(e,t,a){},,function(e,t,a){e.exports={wrapper:"Wrapper_wrapper__edDBr"}},function(e,t,a){e.exports={chatWindow:"ChatWindow_chatWindow__hJQbP"}},,,,,function(e,t,a){},,,function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(9),c=a.n(r),u=(a(16),a(2)),o=a(3),i=a.n(o),j=a(7),b=a(10),l=a.n(b),p=a(0);var f=function(e){return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsx)("div",{className:l.a.wrapper,children:e.children})})},h=a(11),O=a.n(h),m=a(4),d=a.n(m);var g=function(e){var t=Object(p.jsx)("p",{className:d.a.user,children:"".concat(e.user," :")}),a=Object(p.jsx)("p",{className:d.a.userMessage,children:e.userMessage});return Object(p.jsxs)(s.a.Fragment,{children:[e.localName===e.user&&Object(p.jsx)("div",{className:d.a.userMessageContainerRight,children:a}),e.localName!==e.user&&Object(p.jsxs)("div",{className:d.a.userMessageContainerLeft,children:[t,a]})]})};var x=function(e){var t=Object(n.useState)(!0),a=Object(u.a)(t,2),r=a[0],c=(a[1],Object(n.useState)(!1)),o=Object(u.a)(c,2),i=(o[0],o[1],Object(n.useState)(e.username)),j=Object(u.a)(i,2),b=j[0],l=(j[1],e.chatData.map((function(e){return Object(p.jsx)(g,{user:e.user,userMessage:e.userMessage,theSamePerson:r,localName:b})})));return Object(p.jsx)(s.a.Fragment,{children:Object(p.jsx)("div",{className:O.a.chatWindow,children:l})})},v=a(5),_=a.n(v);var S=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],r=a[1],c=Object(n.useRef)("");return Object(p.jsx)("div",{className:_.a.inputsSection,children:Object(p.jsxs)("form",{className:_.a.form,onSubmit:function(t){if(t.preventDefault(),""!==c.current.value){r("");var a={user:e.username,userMessage:c.current.value};e.chatData(a)}},children:[Object(p.jsx)("input",{className:_.a.text,type:"text",id:"message",ref:c,value:s,onChange:function(e){return r(e.target.value)}}),Object(p.jsx)("button",{className:_.a.button,children:Object(p.jsx)("i",{class:"far fa-paper-plane"})})]})})};var M=function(e){var t=Object(n.useState)([]),a=Object(u.a)(t,2),s=a[0],r=a[1],c=Object(n.useState)(!1),o=Object(u.a)(c,2),b=o[0],l=o[1],h=Object(n.useState)(null),O=Object(u.a)(h,2),m=(O[0],O[1]),d=Object(n.useState)(e.username),g=Object(u.a)(d,2),v=g[0],_=(g[1],Object(n.useCallback)(Object(j.a)(i.a.mark((function e(){var t,a,n,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),m(null),e.prev=2,e.next=5,fetch("https://comunicator-74c17-default-rtdb.europe-west1.firebasedatabase.app/chatData.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong!");case 8:return e.next=10,t.json();case 10:for(s in a=e.sent,n=[],a)n.push({id:s,user:a[s].user,userMessage:a[s].userMessage});r(n),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),m(e.t0.message);case 19:l(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])})))));function M(){return(M=Object(j.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://comunicator-74c17-default-rtdb.europe-west1.firebasedatabase.app/chatData.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:n=e.sent,console.log(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){_()}),[_]),Object(p.jsxs)(f,{children:[Object(p.jsx)(x,{chatData:s,isLoading:b,username:v}),Object(p.jsx)(S,{chatData:function(e){return M.apply(this,arguments)},username:v})]})},w=a(8),N=a.n(w);var C=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),s=a[0],r=a[1];return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==s&&(s.length<=3?alert("more than 3 chars"):s.length>=15||(e.username(s),r("")))},children:[Object(p.jsx)("input",{className:N.a.form,type:"text",value:s,onChange:function(e){return r(e.target.value)}}),Object(p.jsx)("button",{className:N.a.btn,children:"set name"})]})})};var D=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(p.jsx)(s.a.Fragment,{children:""===a?Object(p.jsx)(C,{username:function(e){r(e)}}):Object(p.jsx)(M,{username:a})})},k=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,20)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))};c.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(D,{})}),document.getElementById("root")),k()}],[[19,1,2]]]);
//# sourceMappingURL=main.cb2cd41c.chunk.js.map