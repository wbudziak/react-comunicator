(this.webpackJsonpcomunicator=this.webpackJsonpcomunicator||[]).push([[0],{10:function(e,t,n){},20:function(e,t,n){},25:function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),s=n(12),o=n.n(s),i=(n(20),n(2)),u=n(5),b=n.n(u),l=n(8),j=n(3),f=n(4),h=n(1),p=f.a.div(a||(a=Object(j.a)(["\n  max-width: 600px;\n  width: 100%;\n  height: auto;\n\n  background-color: white;\n  padding: 20px;\n  border-radius: 20px;\n"])));var d,x,g,O=function(e){return Object(h.jsx)(c.a.Fragment,{children:Object(h.jsx)(p,{children:e.children})})},m=f.a.div(d||(d=Object(j.a)(["\n  margin-top: 5px;\n  display: flex;\n  flex-direction: column;\n  align-items: ",";\n  justify-content: center;\n"])),(function(e){return e.host?"flex-end":"flex-start"})),v=f.a.p(x||(x=Object(j.a)(["\n  display: ",";\n  margin: 0 !important;\n  color: gray;\n  font-size: 16px;\n  line-height: 26px;\n  margin-right: 10px !important;\n"])),(function(e){return e.host&&"none"})),w=f.a.p(g||(g=Object(j.a)(["\n  margin: 0 !important;\n  margin-right: ",";\n  font-size: 19px;\n  line-height: 29px;\n  word-break: break-all;\n  background-color: rgba(130, 70, 219, 0.42);\n  border-radius: ",";\n  padding: 5px 10px;\n  max-width: 75%;\n  color: white;\n"])),(function(e){return e.host?"20px !important":"0 !important"}),(function(e){return e.host?"20px":"20px 20px 20px 20px"}));var k,S=function(e){return Object(h.jsxs)(m,{host:e.isHost,children:[Object(h.jsx)(v,{host:e.isHost,children:"".concat(e.user," :")}),Object(h.jsx)(w,{host:e.isHost,children:e.userMessage})]})},y=f.a.div(k||(k=Object(j.a)(["\n  width: 100%;\n  height: 600px;\n  max-height: 600px;\n  overflow-y: scroll;\n  margin-bottom: 20px;\n  border-radius: 10px;\n  ::-webkit-scrollbar {\n    width: 6px;\n  }\n  ::-webkit-scrollbar-track {\n    background: #f1f1f1;\n  }\n  ::-webkit-scrollbar-thumb {\n    background: rgba(130, 70, 219, 0.42);\n  }\n"])));var C,D,M,N,F=function(e){var t=Object(r.useRef)(null),n=Object(r.useState)(!0),a=Object(i.a)(n,2),c=a[0],s=(a[1],Object(r.useState)(!1)),o=Object(i.a)(s,2),u=(o[0],o[1],e.chatData),b=e.hostName,l=e.canScroll,j=u.map((function(e){return Object(h.jsx)(S,{user:e.user,userMessage:e.userMessage,theSamePerson:c,isHost:e.user===b})})),f=Object(r.useState)(!0),p=Object(i.a)(f,2),d=p[0],x=p[1];return Object(r.useEffect)((function(){!1!==d&&(t.current.scrollIntoView(),setTimeout((function(){x(!1)}),500))})),Object(r.useEffect)((function(){l&&(t.current.scrollIntoView(),setTimeout((function(){e.canScrollCallback()}),500))})),Object(h.jsxs)(y,{children:[j,Object(h.jsx)("div",{ref:t})]})},T=f.a.div(C||(C=Object(j.a)(["\n  width: 100%;\n  height: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),E=f.a.form(D||(D=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n  height: 100%;\n"]))),z=f.a.input(M||(M=Object(j.a)(["\n  flex: 1;\n  height: 100%;\n  font-size: 24px;\n  padding-left: 25px;\n  padding-right: 25px;\n  color: rgb(154, 154, 154);\n  border: none;\n  outline: none;\n  border-radius: 20px;\n  background-color: #f1f1f1;\n"]))),H=f.a.button(N||(N=Object(j.a)(["\n  cursor: pointer;\n  height: 100%;\n  border: none;\n  outline: none;\n  color: rgba(130, 70, 219, 0.42);\n  background-color: white;\n  border-radius: 20px;\n  font-size: 24px;\n  margin-left: 20px;\n  padding: 15px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  &:hover {\n    background-color: #f1f1f1;\n  }\n"])));var I=function(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useRef)("");return Object(h.jsx)(T,{children:Object(h.jsxs)(E,{onSubmit:function(t){if(t.preventDefault(),""!==s.current.value){c("");var n={user:e.hostName,userMessage:s.current.value};e.chatData(n)}},children:[Object(h.jsx)(z,{type:"text",id:"message",ref:s,value:a,onChange:function(e){return c(e.target.value)}}),Object(h.jsx)(H,{children:Object(h.jsx)("i",{class:"fas fa-paper-plane"})})]})})};var P=function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(!1),o=Object(i.a)(s,2),u=o[0],j=o[1],f=Object(r.useState)(null),p=Object(i.a)(f,2),d=(p[0],p[1]),x=Object(r.useState)(e.username),g=Object(i.a)(x,2),m=g[0],v=(g[1],Object(r.useState)(!1)),w=Object(i.a)(v,2),k=w[0],S=w[1],y=Object(r.useCallback)(Object(l.a)(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),d(null),e.prev=2,e.next=5,fetch("https://comunicator-74c17-default-rtdb.europe-west1.firebasedatabase.app/chatData.json");case 5:if((t=e.sent).ok){e.next=8;break}throw new Error("Something went wrong!");case 8:return e.next=10,t.json();case 10:for(r in n=e.sent,a=[],n)a.push({id:r,user:n[r].user,userMessage:n[r].userMessage});c(a),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(2),d(e.t0.message);case 19:j(!1);case 20:case"end":return e.stop()}}),e,null,[[2,16]])}))),[]);function C(e){return D.apply(this,arguments)}function D(){return(D=Object(l.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,fetch("https://comunicator-74c17-default-rtdb.europe-west1.firebasedatabase.app/chatData.json",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){y()}),[C]),Object(h.jsxs)(O,{children:[Object(h.jsx)(F,{chatData:a,isLoading:u,hostName:m,canScroll:k,canScrollCallback:function(){S(!1)}}),Object(h.jsx)(I,{chatData:C,hostName:m})]})},J=n(10),L=n.n(J);var B=function(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(h.jsx)("div",{children:Object(h.jsxs)("form",{onSubmit:function(t){t.preventDefault(),""!==a&&(a.length<=3?alert("more than 3 chars"):a.length>=15||(e.username(a),c("")))},children:[Object(h.jsx)("input",{className:L.a.form,type:"text",value:a,onChange:function(e){return c(e.target.value)}}),Object(h.jsx)("button",{className:L.a.btn,children:"set name"})]})})};var R=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(h.jsx)(c.a.Fragment,{children:""===n?Object(h.jsx)(B,{username:function(e){a(e)}}):Object(h.jsx)(P,{username:n})})},V=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,26)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(R,{})}),document.getElementById("root")),V()}},[[25,1,2]]]);
//# sourceMappingURL=main.97dd4e63.chunk.js.map